<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TOEFL Mock Exam - Full Test</title>
  <style>
    /* å…¨å±€æ ·å¼ä¼˜åŒ– */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      max-width: 1100px;
      margin: 0 auto;
      line-height: 1.6;
      padding: 30px 40px;
      background: linear-gradient(135deg, #f5f7fa 0%, #e9ecf2 100%);
      min-height: 100vh;
    }
    
    /* å¡ç‰‡æ ·å¼ */
    .card, .exam-overview, .section {
      background: white;
      border-radius: 24px;
      padding: 30px;
      margin-bottom: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05), 0 1px 3px rgba(0,0,0,0.1);
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid rgba(255,255,255,0.5);
    }
    
    .card:hover, .section:hover {
      box-shadow: 0 15px 40px rgba(0,0,0,0.08);
    }
    
    /* è€ƒè¯•å¤´éƒ¨ */
    .exam-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 15px 30px;
      border-radius: 60px;
      margin-bottom: 30px;
      position: sticky;
      top: 20px;
      z-index: 100;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.5);
    }
    
    .status-badge {
      padding: 8px 20px;
      border-radius: 40px;
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.3px;
      background: #4CAF50;
      color: white;
      box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
    }
    
    .status-badge.reading { background: #2196F3; box-shadow: 0 4px 10px rgba(33, 150, 243, 0.3); }
    .status-badge.speaking { background: #9C27B0; box-shadow: 0 4px 10px rgba(156, 39, 176, 0.3); }
    .status-badge.writing { background: #FF9800; box-shadow: 0 4px 10px rgba(255, 152, 0, 0.3); }
    .status-badge.warning { background: #ff9800; }
    .status-badge.terminated { background: #f44336; }
    .status-badge.waiting { background: #9e9e9e; }
    
    .timer {
      font-size: 36px;
      font-weight: 700;
      color: #1976D2;
      background: white;
      padding: 8px 25px;
      border-radius: 50px;
      font-family: 'Courier New', monospace;
      letter-spacing: 3px;
      box-shadow: 0 4px 15px rgba(25, 118, 210, 0.15);
      border: 1px solid rgba(25, 118, 210, 0.2);
    }
    
    .timer.warning {
      color: #ff4444;
      background: #fff0f0;
      animation: pulse 1s infinite;
      box-shadow: 0 4px 15px rgba(255, 68, 68, 0.2);
    }
    
    @keyframes pulse {
      0% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.02); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    /* é¡µé¢æ˜¾ç¤ºæ§åˆ¶ */
    #rulesPage, #readingIntroPage, #module1Intro, #module1Page, 
    #module2Intro, #module2Page, #speakingPage, #writingIntroPage, 
    #writingPage {
      display: none;
    }
    
    #rulesPage {
      display: block;
    }
    
    /* è¡¨æ ¼æ ·å¼ä¼˜åŒ– */
    .structure-table, .task-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 8px;
      margin: 25px 0;
    }
    
    .structure-table th, .task-table th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px;
      font-weight: 600;
      font-size: 15px;
      letter-spacing: 0.5px;
      border-radius: 12px 12px 0 0;
    }
    
    .structure-table td, .task-table td {
      background: white;
      padding: 18px 15px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.02);
      border: 1px solid #f0f0f0;
    }
    
    .structure-table tr:last-child td {
      background: linear-gradient(135deg, #f5f7fa 0%, #e9ecf2 100%);
      font-weight: 700;
      border: 2px solid #2196F3;
    }
    
    .highlight {
      background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%) !important;
      font-weight: 600;
    }
    
    /* æŒ‰é’®æ ·å¼ä¼˜åŒ– */
    .start-exam-btn, .nav-btn, .submit-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 15px 45px;
      font-size: 18px;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
      letter-spacing: 1px;
      margin: 10px 0;
    }
    
    .start-exam-btn:hover, .nav-btn:hover, .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
    }
    
    .nav-btn {
      padding: 12px 35px;
      font-size: 16px;
      background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
    }
    
    .submit-btn {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
      font-size: 20px;
      padding: 18px 50px;
      width: 100%;
      max-width: 400px;
      margin: 30px auto;
      display: block;
    }
    
    /* æ ‡é¢˜æ ·å¼ */
    h1 {
      text-align: center;
      margin-bottom: 30px;
      color: #1976D2;
      font-size: 32px;
      font-weight: 700;
    }
    
    h2 {
      color: #1976D2;
      font-size: 24px;
      font-weight: 600;
      margin: 0 0 20px 0;
      border-bottom: 2px solid #f0f0f0;
      padding-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* ä»»åŠ¡æè¿° */
    .task-description {
      background: linear-gradient(135deg, #e8f4fd 0%, #d1e9ff 100%);
      padding: 20px;
      border-radius: 16px;
      margin-bottom: 20px;
      border-left: 6px solid #2196F3;
    }
    
    /* é¢˜ç›®å¡ç‰‡ */
    .question-item {
      background: linear-gradient(135deg, #f8faff 0%, #f5f8ff 100%);
      border-radius: 20px;
      padding: 25px;
      margin: 20px 0;
      border-left: 6px solid #2196F3;
      transition: all 0.2s;
    }
    
    .question-item:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 15px rgba(33, 150, 243, 0.1);
    }
    
    .question-number {
      font-weight: 700;
      color: #1976D2;
      margin-bottom: 15px;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .passage, .email {
      background: white;
      padding: 20px;
      border-radius: 16px;
      border: 1px solid #e0e0e0;
      margin: 15px 0;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
    }
    
    /* å¡«ç©ºæ ·å¼ */
    .fill-blank-container {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 4px;
      margin: 20px 0;
      font-size: 18px;
      background: white;
      padding: 20px;
      border-radius: 16px;
    }
    
    .fill-blank-input {
      width: 45px;
      height: 45px;
      text-align: center;
      font-size: 20px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      margin: 0 2px;
      padding: 0;
      transition: all 0.2s;
      background: white;
      font-weight: 600;
      color: #2196F3;
    }
    
    .fill-blank-input:focus {
      border-color: #2196F3;
      outline: none;
      box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
      transform: scale(1.05);
    }
    
    .fill-blank-text {
      margin: 0 4px;
      font-weight: 500;
      color: #333;
    }
    
    /* é€‰æ‹©é¢˜æ ·å¼ */
    .options {
      margin: 20px 0;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 12px;
    }
    
    .option {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 16px;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      transition: all 0.2s;
      cursor: pointer;
    }
    
    .option:hover {
      border-color: #2196F3;
      background: #f5f9ff;
      transform: translateY(-2px);
      box-shadow: 0 5px 10px rgba(33, 150, 243, 0.1);
    }
    
    .option input[type="radio"] {
      width: 20px;
      height: 20px;
      margin-right: 15px;
      cursor: pointer;
      accent-color: #2196F3;
    }
    
    .option label {
      cursor: pointer;
      font-size: 16px;
      color: #333;
      font-weight: 500;
      flex: 1;
    }
    
    /* å†™ä½œæ ·å¼ */
    textarea {
      width: 100%;
      padding: 20px;
      border: 2px solid #e0e0e0;
      border-radius: 20px;
      font-family: inherit;
      font-size: 16px;
      margin-top: 15px;
      min-height: 200px;
      transition: all 0.2s;
      resize: vertical;
      background: white;
    }
    
    textarea:focus {
      border-color: #2196F3;
      outline: none;
      box-shadow: 0 0 0 4px rgba(33, 150, 243, 0.1);
    }
    
    .word-count {
      text-align: right;
      color: #666;
      font-size: 14px;
      margin-top: 10px;
      font-weight: 500;
    }
    
    /* å½•éŸ³æŒ‰é’® */
    .record-btn {
      background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(244, 67, 54, 0.3);
    }
    
    .record-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4);
    }
    
    .record-btn.recording {
      animation: pulse-red 1.5s infinite;
    }
    
    @keyframes pulse-red {
      0% { opacity: 1; }
      50% { opacity: 0.7; transform: scale(1.02); }
      100% { opacity: 1; }
    }
    
    /* éŸ³é¢‘æ’­æ”¾å™¨ */
    audio {
      width: 100%;
      margin: 15px 0;
      border-radius: 30px;
    }
    
    /* è§†é¢‘ç½‘æ ¼ */
    .video-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 20px;
    }
    
    .video-item {
      background: white;
      border-radius: 20px;
      padding: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
      transition: all 0.2s;
    }
    
    .video-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }
    
    .video-item video {
      width: 100%;
      height: auto;
      border-radius: 12px;
    }
    
    /* æŠ˜å é¢æ¿ */
    .rules-container {
      margin-bottom: 30px;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .rules-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px 25px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s;
    }
    
    .rules-header:hover {
      background: linear-gradient(135deg, #5a6fd6 0%, #6a3f94 100%);
    }
    
    .rules-header span {
      font-weight: 600;
      font-size: 18px;
    }
    
    .toggle-icon {
      font-size: 24px;
      transition: transform 0.3s;
    }
    
    .rules-content {
      padding: 30px;
      background: white;
      display: none;
      max-height: 500px;
      overflow-y: auto;
    }
    
    .rules-content.show {
      display: block;
    }
    
    .close-rules {
      text-align: right;
      margin-bottom: 15px;
    }
    
    .close-rules button {
      background: none;
      border: none;
      color: #666;
      cursor: pointer;
      font-size: 14px;
      padding: 5px 10px;
    }
    
    /* è­¦å‘Šå¼¹çª— */
    .warning-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(5px);
    }
    
    .warning-content {
      background: white;
      padding: 40px;
      border-radius: 30px;
      max-width: 450px;
      text-align: center;
      box-shadow: 0 30px 60px rgba(0,0,0,0.3);
      animation: slideIn 0.3s;
    }
    
    @keyframes slideIn {
      from { transform: translateY(-30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    .warning-content.warning {
      border-top: 6px solid #ff9800;
    }
    
    .warning-content.terminated {
      border-top: 6px solid #f44336;
    }
    
    .warning-content button {
      margin-top: 25px;
      padding: 12px 40px;
      background: #2196F3;
      color: white;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
    }
    
    .hidden {
      display: none !important;
    }
    
    /* å¯¼èˆªæŒ‰é’®å®¹å™¨ */
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin: 30px 0;
    }
    
    /* é¡µè„š */
    .footer {
      margin-top: 60px;
      padding-top: 30px;
      border-top: 2px solid rgba(255,255,255,0.3);
      text-align: center;
      color: #666;
    }
    
    .footer a {
      color: #2196F3;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }
    
    .footer a:hover {
      color: #1976D2;
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- è€ƒè¯•å¤´éƒ¨ - å§‹ç»ˆæ˜¾ç¤º -->
  <div class="exam-header">
    <div>
      <span class="status-badge" id="statusBadge">ğŸ“‹ é˜…è¯»è§„åˆ™</span>
    </div>
    <div class="timer-container">
      <div class="timer" id="timer">02:00:00</div>
    </div>
  </div>

  <!-- è­¦å‘Šå¼¹çª— -->
  <div id="warningModal" class="warning-modal hidden">
    <div class="warning-content" id="warningContent">
      <h2 id="warningTitle">âš ï¸ ç¬¬ä¸€æ¬¡è­¦å‘Š</h2>
      <p id="warningMessage">æ‚¨å·²åˆ‡æ¢å±å¹•ã€‚è¿™æ˜¯ç¬¬ä¸€æ¬¡è­¦å‘Šï¼Œå†æ¬¡åˆ‡æ¢å°†è‡ªåŠ¨äº¤å·ã€‚</p>
      <button onclick="closeWarningModal()">æˆ‘çŸ¥é“äº†</button>
    </div>
  </div>

  <!-- è§„åˆ™é¡µé¢ -->
  <div id="rulesPage">
    <div class="exam-overview">
      <h2>ğŸ“‹ æ–°æ‰˜ç¦è€ƒè¯•ç»“æ„</h2>
      <p style="font-size: 16px; color: #666; margin-bottom: 25px;">æœ¬æ¨¡è€ƒç³»ç»Ÿä¸¥æ ¼æŒ‰ç…§æ–°æ‰˜ç¦è€ƒè¯•æ ¼å¼è®¾è®¡ï¼Œæ€»æ—¶é•¿çº¦2å°æ—¶ã€‚è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹è€ƒè¯•ç»“æ„ï¼š</p>
      
      <table class="structure-table">
        <thead>
          <tr>
            <th>éƒ¨åˆ†</th>
            <th>é¡ºåº</th>
            <th>ä»»åŠ¡ç±»å‹</th>
            <th>é¢˜ç›®æ•°é‡</th>
            <th>é¢„ä¼°æ—¶é—´</th>
          </tr>
        </thead>
        <tbody>
          <tr class="highlight">
            <td><strong>ğŸ“– é˜…è¯»</strong></td>
            <td>1</td>
            <td>Complete the Words; Read in Daily Life; Read an Academic Passage</td>
            <td>35é¢˜</td>
            <td>çº¦27åˆ†é’Ÿ</td>
          </tr>
          <tr>
            <td><strong>ğŸ¤ å£è¯­</strong></td>
            <td>2</td>
            <td>Listen and Repeat; Take an Interview</td>
            <td>11é¢˜</td>
            <td>çº¦8åˆ†é’Ÿ</td>
          </tr>
          <tr>
            <td><strong>âœï¸ å†™ä½œ</strong></td>
            <td>3</td>
            <td>Build a Sentence; Write an Email; Write for an Academic Discussion</td>
            <td>12é¢˜</td>
            <td>çº¦23åˆ†é’Ÿ</td>
          </tr>
          <tr>
            <td><strong>ğŸ§ å¬åŠ›</strong></td>
            <td>4</td>
            <td>Listen and Choose a Response; Listen to a Conversation; Listen to an Announcement; Listen to an Academic Talk</td>
            <td>35é¢˜</td>
            <td>çº¦27åˆ†é’Ÿ</td>
          </tr>
          <tr class="total-row">
            <td colspan="3"><strong>æ€»è®¡</strong></td>
            <td><strong>93é¢˜</strong></td>
            <td><strong>çº¦2å°æ—¶</strong></td>
          </tr>
        </tbody>
      </table>
      
      <div style="text-align: center;">
        <button class="start-exam-btn" onclick="startExam()">âœ… æˆ‘å·²é˜…è¯»è§„åˆ™ï¼Œå¼€å§‹è€ƒè¯•</button>
      </div>
    </div>
  </div>

  <!-- ========== é˜…è¯»éƒ¨åˆ† ========== -->
  <!-- é˜…è¯»ä»‹ç» -->
  <div id="readingIntroPage">
    <div class="exam-overview">
      <h2>ğŸ“– é˜…è¯»éƒ¨åˆ†</h2>
      
      <div class="task-description">
        <p>åœ¨é˜…è¯»éƒ¨åˆ†ï¼Œä½ éœ€è¦å›ç­”35-50é“é¢˜ï¼Œä»¥å±•ç¤ºä½ å¯¹å­¦æœ¯å’Œéå­¦æœ¯è‹±è¯­æ–‡æœ¬çš„ç†è§£èƒ½åŠ›ã€‚å…±æœ‰ä¸‰ç§ä»»åŠ¡ç±»å‹ï¼š</p>
      </div>
      
      <table class="task-table">
        <tr>
          <th>ä»»åŠ¡ç±»å‹</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td><strong>Complete the Words</strong></td>
          <td>Fill in the missing letters in a paragraph.</td>
        </tr>
        <tr>
          <td><strong>Read in Daily Life</strong></td>
          <td>Answer questions about everyday reading material.</td>
        </tr>
        <tr>
          <td><strong>Read an Academic Passage</strong></td>
          <td>Answer questions about an academic passages.</td>
        </tr>
      </table>
      
      <div style="text-align: center; margin: 30px 0;">
        <button class="nav-btn" onclick="showModule1Intro()">è¿›å…¥ Module 1 â†’</button>
      </div>
    </div>
  </div>

  <!-- Module 1 ä»‹ç» -->
  <div id="module1Intro">
    <div class="exam-overview">
      <h2>Module 1</h2>
      
      <div class="task-description">
        <p>â€¢ å±å¹•ä¸Šçš„è®¡æ—¶å™¨ä¼šæ˜¾ç¤ºä½ å®ŒæˆModule 1çš„å‰©ä½™æ—¶é—´ã€‚</p>
        <p>â€¢ ä½ å¯ä»¥ä½¿ç”¨"ä¸‹ä¸€é¢˜"å’Œ"ä¸Šä¸€é¢˜"åœ¨åŒä¸€æ¨¡å—å†…åˆ‡æ¢é¢˜ç›®ã€‚</p>
        <p>â€¢ <strong>ä¸€æ—¦ä½ å¼€å§‹Module 2ï¼Œå°†æ— æ³•è¿”å›Module 1ã€‚</strong></p>
      </div>
      
      <div style="text-align: center; margin: 30px 0;">
        <button class="nav-btn" onclick="showModule1()">å¼€å§‹ Module 1 â†’</button>
      </div>
    </div>
  </div>

  <!-- Module 1 é¢˜ç›® -->
  <div id="module1Page">
    <h1>ğŸ“– é˜…è¯» Module 1</h1>
    
    <!-- ç¬¬1-10é¢˜ï¼šComplete the Words -->
    <div class="section">
      <h2>Complete the Words (1-10)</h2>
      <div class="task-description">Fill in the missing letters in the paragraph.</div>
      
      <div class="question-item">
        <div class="question-number">ğŸ”¤ Questions 1-10</div>
        <div class="passage">
          <p>We know from drawings that have been preserved in caves for over 10,000 years that early humans performed dances as a group activity.</p>
          <div class="fill-blank-container">
            <span class="fill-blank-text">We</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_1', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_2', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_3', this.value)">
            <span class="fill-blank-text">think</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_4', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_5', this.value)">
            <span class="fill-blank-text">prehistoric</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_6', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_7', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_8', this.value)">
            <span class="fill-blank-text">concentrated on</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_9', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_10', this.value)">
            <span class="fill-blank-text">on ba</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_11', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_12', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_13', this.value)">
            <span class="fill-blank-text">survival.</span>
          </div>
          <div class="fill-blank-container">
            <span class="fill-blank-text">How</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_14', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_15', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_16', this.value)">
            <span class="fill-blank-text">it i</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_17', this.value)">
            <span class="fill-blank-text">clear fr</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_18', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_19', this.value)">
            <span class="fill-blank-text">the rec</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_20', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_21', this.value)">
            <span class="fill-blank-text">that dan</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_22', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_23', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading1_24', this.value)">
            <span class="fill-blank-text">was important to them.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ç¬¬11-12é¢˜ï¼šRead a notice -->
    <div class="section">
      <h2>Read a notice (11-12)</h2>
      
      <div class="question-item">
        <div class="question-number">ğŸ“‹ Questions 11-12</div>
        <div class="email">
          <h3>Municipal Charter</h3>
          <p>Sign up for paperless billing statements today.</p>
          <p>Safe, convenient, easy. Enroll in paperless billing to receive monthly savings account statements in an electronic PDF document. Access your Municipal Charter account through the mobile app and select account preferences in the upper right-hand corner to enroll.</p>
        </div>
        
        <div class="question-number">11. What type of business issued the notice?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q11" id="q11a" value="A" onchange="saveAnswer('q11', this.value)"><label for="q11a"> A. An Internet provider</label></div>
          <div class="option"><input type="radio" name="q11" id="q11b" value="B" onchange="saveAnswer('q11', this.value)"><label for="q11b"> B. A computer company</label></div>
          <div class="option"><input type="radio" name="q11" id="q11c" value="C" onchange="saveAnswer('q11', this.value)"><label for="q11c"> C. A paper company</label></div>
          <div class="option"><input type="radio" name="q11" id="q11d" value="D" onchange="saveAnswer('q11', this.value)"><label for="q11d"> D. A bank</label></div>
        </div>
        
        <div class="question-number">12. How can customers enroll in paperless billing?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q12" id="q12a" value="A" onchange="saveAnswer('q12', this.value)"><label for="q12a"> A. By visiting a Municipal Charter office</label></div>
          <div class="option"><input type="radio" name="q12" id="q12b" value="B" onchange="saveAnswer('q12', this.value)"><label for="q12b"> B. By accessing the Municipal Charter website</label></div>
          <div class="option"><input type="radio" name="q12" id="q12c" value="C" onchange="saveAnswer('q12', this.value)"><label for="q12c"> C. By using the Municipal Charter app</label></div>
          <div class="option"><input type="radio" name="q12" id="q12d" value="D" onchange="saveAnswer('q12', this.value)"><label for="q12d"> D. By calling a Municipal Charter customer service representative</label></div>
        </div>
      </div>
    </div>

    <!-- ç¬¬13-15é¢˜ï¼šRead a social media post -->
    <div class="section">
      <h2>Read a social media post (13-15)</h2>
      
      <div class="question-item">
        <div class="question-number">ğŸ“± Questions 13-15</div>
        <div class="passage">
          <h3>Sofia Baker</h3>
          <p>Every Saturday, our local farmer's market is the place to be! Fresh fruits, veggies, homemade goodies, and unique crafts await you. The Thompson family's organic produce is a must-try, known for its quality and cordial service. Their stall is always bustling with customers eager to buy fresh, pesticide-free vegetables from the welcoming staff.</p>
          <p>Don't miss the bakery stallâ€”get there early for the best bread and pastries, including gluten-free and vegan options. The smell of freshly baked goods fills the air, and these treats sell out fast!</p>
          <p>In addition to food, the market sells handmade crafts like jewelry, pottery, and textiles. These unique items make perfect gifts and support local artisans. Plus, enjoy live music while you shop. Talented local musicians help create a vibrant atmosphere, and the community spirit makes it a delightful experience for all. See you there!</p>
        </div>
        
        <div class="question-number">13. What is the main purpose of the post?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q13" id="q13a" value="A" onchange="saveAnswer('q13', this.value)"><label for="q13a"> A. To explain the benefits of organic farming</label></div>
          <div class="option"><input type="radio" name="q13" id="q13b" value="B" onchange="saveAnswer('q13', this.value)"><label for="q13b"> B. To describe the variety of products available at the farmer's market</label></div>
          <div class="option"><input type="radio" name="q13" id="q13c" value="C" onchange="saveAnswer('q13', this.value)"><label for="q13c"> C. To compare different farmer's markets in the area</label></div>
          <div class="option"><input type="radio" name="q13" id="q13d" value="D" onchange="saveAnswer('q13', this.value)"><label for="q13d"> D. To offer advice on starting a stall at the farmer's market</label></div>
        </div>
        
        <div class="question-number">14. What reason is given for the popularity of the Thompson family's stall?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q14" id="q14a" value="A" onchange="saveAnswer('q14', this.value)"><label for="q14a"> A. They offer cooking tips and recipes.</label></div>
          <div class="option"><input type="radio" name="q14" id="q14b" value="B" onchange="saveAnswer('q14', this.value)"><label for="q14b"> B. They offer the lowest prices at the market.</label></div>
          <div class="option"><input type="radio" name="q14" id="q14c" value="C" onchange="saveAnswer('q14', this.value)"><label for="q14c"> C. They provide friendly service and excellent products.</label></div>
          <div class="option"><input type="radio" name="q14" id="q14d" value="D" onchange="saveAnswer('q14', this.value)"><label for="q14d"> D. They have a beautiful and well-decorated stall.</label></div>
        </div>
        
        <div class="question-number">15. Why do customers go to the bakery stall early?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q15" id="q15a" value="A" onchange="saveAnswer('q15', this.value)"><label for="q15a"> A. To get the free samples given in mornings</label></div>
          <div class="option"><input type="radio" name="q15" id="q15b" value="B" onchange="saveAnswer('q15', this.value)"><label for="q15b"> B. To get freshly baked bread and pastries before they are gone</label></div>
          <div class="option"><input type="radio" name="q15" id="q15c" value="C" onchange="saveAnswer('q15', this.value)"><label for="q15c"> C. To meet the famous baker</label></div>
          <div class="option"><input type="radio" name="q15" id="q15d" value="D" onchange="saveAnswer('q15', this.value)"><label for="q15d"> D. To take advantage of early morning discounts</label></div>
        </div>
      </div>
    </div>

    <!-- ç¬¬16-20é¢˜ï¼šAcademic Passage -->
    <div class="section">
      <h2>Read an Academic Passage (16-20)</h2>
      
      <div class="question-item">
        <div class="question-number">ğŸ“š Questions 16-20</div>
        <div class="passage">
          <h3>The Mirror Test</h3>
          <p>Very young children cannot recognize themselves in a mirror; they usually achieve this milestone around 18 months of age. The ability to recognize oneself in the mirror is considered to be a key component of self-awareness and consciousness for humans. But what about animals?</p>
          <p>For many years, scientists have known that members of the great ape family could recognize themselves in mirrors. They measured this by the "mirror test," which involved putting a colored mark on an ape's body, and then showing the ape its reflection in a mirror. If the ape tried to remove the mark on its own body, the scientists knew that the ape was recognizing its reflection.</p>
          <p>Apes are close relatives of humans, but in recent years, scientists have discovered that other animals also pass the "mirror test." Elephants and dolphins have shown signs of self-recognition. These, like apes, are highly intelligent animals. But in a more recent experiment, a type of fish called the cleaner fish tried to scrape a mark off its body when it saw itself in the mirror. This suggests that even less intelligent animals may possess more self-awareness than previously suspected.</p>
        </div>
        
        <div class="question-number">16. What is the passage mainly about?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q16" id="q16a" value="A" onchange="saveAnswer('q16', this.value)"><label for="q16a"> A. Stages of early childhood development</label></div>
          <div class="option"><input type="radio" name="q16" id="q16b" value="B" onchange="saveAnswer('q16', this.value)"><label for="q16b"> B. Research on animal cognition</label></div>
          <div class="option"><input type="radio" name="q16" id="q16c" value="C" onchange="saveAnswer('q16', this.value)"><label for="q16c"> C. Differences between apes, elephants, and dolphins</label></div>
          <div class="option"><input type="radio" name="q16" id="q16d" value="D" onchange="saveAnswer('q16', this.value)"><label for="q16d"> D. Recent experiments on fish</label></div>
        </div>
        
        <div class="question-number">17. The word "milestone" in the first sentence is closest in meaning to</div>
        <div class="options">
          <div class="option"><input type="radio" name="q17" id="q17a" value="A" onchange="saveAnswer('q17', this.value)"><label for="q17a"> A. accomplishment</label></div>
          <div class="option"><input type="radio" name="q17" id="q17b" value="B" onchange="saveAnswer('q17', this.value)"><label for="q17b"> B. distance</label></div>
          <div class="option"><input type="radio" name="q17" id="q17c" value="C" onchange="saveAnswer('q17', this.value)"><label for="q17c"> C. weight</label></div>
          <div class="option"><input type="radio" name="q17" id="q17d" value="D" onchange="saveAnswer('q17', this.value)"><label for="q17d"> D. discovery</label></div>
        </div>
        
        <div class="question-number">18. Why did scientists put colored marks on animals' bodies?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q18" id="q18a" value="A" onchange="saveAnswer('q18', this.value)"><label for="q18a"> A. It made it possible to track the animals' movements.</label></div>
          <div class="option"><input type="radio" name="q18" id="q18b" value="B" onchange="saveAnswer('q18', this.value)"><label for="q18b"> B. It helped them determine whether the animals recognized themselves.</label></div>
          <div class="option"><input type="radio" name="q18" id="q18c" value="C" onchange="saveAnswer('q18', this.value)"><label for="q18c"> C. It made it easier to tell the animals apart.</label></div>
          <div class="option"><input type="radio" name="q18" id="q18d" value="D" onchange="saveAnswer('q18', this.value)"><label for="q18d"> D. It showed whether some animals can detect color differences.</label></div>
        </div>
        
        <div class="question-number">19. According to the passage, all of the following are true about elephants EXCEPT:</div>
        <div class="options">
          <div class="option"><input type="radio" name="q19" id="q19a" value="A" onchange="saveAnswer('q19', this.value)"><label for="q19a"> A. They can recognize themselves in mirrors.</label></div>
          <div class="option"><input type="radio" name="q19" id="q19b" value="B" onchange="saveAnswer('q19', this.value)"><label for="q19b"> B. They are highly intelligent animals.</label></div>
          <div class="option"><input type="radio" name="q19" id="q19c" value="C" onchange="saveAnswer('q19', this.value)"><label for="q19c"> C. They possess qualities in common with apes.</label></div>
          <div class="option"><input type="radio" name="q19" id="q19d" value="D" onchange="saveAnswer('q19', this.value)"><label for="q19d"> D. They understand certain signs from other animals.</label></div>
        </div>
        
        <div class="question-number">20. Why does the author mention cleaner fish?</div>
        <div class="options">
          <div class="option"><input type="radio" name="q20" id="q20a" value="A" onchange="saveAnswer('q20', this.value)"><label for="q20a"> A. To suggest that a wide range of animals may possess self-awareness</label></div>
          <div class="option"><input type="radio" name="q20" id="q20b" value="B" onchange="saveAnswer('q20', this.value)"><label for="q20b"> B. To imply that ocean animals are highly intelligent</label></div>
          <div class="option"><input type="radio" name="q20" id="q20c" value="C" onchange="saveAnswer('q20', this.value)"><label for="q20c"> C. To demonstrate a flaw in a recent experiment</label></div>
          <div class="option"><input type="radio" name="q20" id="q20d" value="D" onchange="saveAnswer('q20', this.value)"><label for="q20d"> D. To provide an example of an animal that does not recognize itself</label></div>
        </div>
      </div>
    </div>

    <div class="nav-buttons">
      <div></div>
      <button class="nav-btn" onclick="showModule2Intro()">å®Œæˆ Module 1ï¼Œè¿›å…¥ Module 2 â†’</button>
    </div>
  </div>

  <!-- Module 2 ä»‹ç» -->
  <div id="module2Intro">
    <div class="exam-overview">
      <h2>Module 2</h2>
      
      <div class="task-description">
        <p>â€¢ å±å¹•ä¸Šçš„è®¡æ—¶å™¨ä¼šæ˜¾ç¤ºä½ å®ŒæˆModule 2çš„å‰©ä½™æ—¶é—´ã€‚</p>
        <p>â€¢ ä½ å¯ä»¥ä½¿ç”¨"ä¸‹ä¸€é¢˜"å’Œ"ä¸Šä¸€é¢˜"åœ¨åŒä¸€æ¨¡å—å†…åˆ‡æ¢é¢˜ç›®ã€‚</p>
        <p>â€¢ <strong>æ³¨æ„ï¼šè¿™æ˜¯é˜…è¯»éƒ¨åˆ†çš„æœ€åä¸€ä¸ªæ¨¡å—ã€‚</strong></p>
      </div>
      
      <div style="text-align: center; margin: 30px 0;">
        <button class="nav-btn" onclick="showModule2()">å¼€å§‹ Module 2 â†’</button>
      </div>
    </div>
  </div>

  <!-- Module 2 é¢˜ç›® -->
  <div id="module2Page">
    <h1>ğŸ“– é˜…è¯» Module 2</h1>
    
    <!-- ç¬¬1-10é¢˜ï¼šComplete the Words -->
    <div class="section">
      <h2>Complete the Words (1-10)</h2>
      <div class="task-description">Fill in the missing letters in the paragraph.</div>
      
      <div class="question-item">
        <div class="question-number">ğŸ”¤ Questions 1-10</div>
        <div class="passage">
          <p>The human brain is a complex organ responsible for controlling all bodily functions and enabling thought, emotion, and memory.</p>
          <div class="fill-blank-container">
            <span class="fill-blank-text">It i</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_1', this.value)">
            <span class="fill-blank-text">divided in</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_2', this.value)">
            <span class="fill-blank-text">several reg</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_3', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_4', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_5', this.value)">
            <span class="fill-blank-text">, each wi</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_6', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_7', this.value)">
            <span class="fill-blank-text">specific ro</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_8', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_9', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_10', this.value)">
            <span class="fill-blank-text">.</span>
          </div>
          <div class="fill-blank-container">
            <span class="fill-blank-text">The cerebrum, i</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_11', this.value)">
            <span class="fill-blank-text">largest pa</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_12', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_13', this.value)">
            <span class="fill-blank-text">, is invo</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_14', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_15', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_16', this.value)">
            <span class="fill-blank-text">in cogn</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_17', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_18', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_19', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_20', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_21', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_22', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_23', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_24', this.value)">
            <span class="fill-blank-text">functions su</span>
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_25', this.value)">
            <input type="text" class="fill-blank-input" maxlength="1" placeholder="_" onchange="saveAnswer('reading2_26', this.value)">
            <span class="fill-blank-text">as reasoning, planning, and language.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ç¬¬11-12é¢˜ï¼šRead an email -->
    <div class="section">
      <h2>Read an email (11-12)</h2>
      
      <div class="question-item">
        <div class="email">
          <p><strong>To:</strong> edward56L@dmail.com</p>
          <p><strong>From:</strong> artforeveryone@dmail.com</p>
          <p><strong>Date:</strong> 10/09/2025</p>
          <p><strong>Subject:</strong> Art Workshop Reservation Confirmation</p>
          <hr>
          <p>Dear Ms. Edwards,</p>
          <p>The reservation for the art workshop that you made on September 10th has been confirmed. The workshop will take place on September 20th at 3:00 PM. All necessary arts supplies will be provided, but please bring your own apron or smock.</p>
          <p>Best regards,<br>Laura Bennett</p>
        </div>
        
        <div class="question-number">11. When is the date of the art workshop?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q11" id="m2q11a" value="A" onchange="saveAnswer('m2q11', this.value)"><label for="m2q11a"> A. September 10th</label></div>
          <div class="option"><input type="radio" name="m2q11" id="m2q11b" value="B" onchange="saveAnswer('m2q11', this.value)"><label for="m2q11b"> B. September 12th</label></div>
          <div class="option"><input type="radio" name="m2q11" id="m2q11c" value="C" onchange="saveAnswer('m2q11', this.value)"><label for="m2q11c"> C. September 20th</label></div>
          <div class="option"><input type="radio" name="m2q11" id="m2q11d" value="D" onchange="saveAnswer('m2q11', this.value)"><label for="m2q11d"> D. September 30th</label></div>
        </div>
        
        <div class="question-number">12. What should Ms. Edwards bring to the workshop?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q12" id="m2q12a" value="A" onchange="saveAnswer('m2q12', this.value)"><label for="m2q12a"> A. A payment method</label></div>
          <div class="option"><input type="radio" name="m2q12" id="m2q12b" value="B" onchange="saveAnswer('m2q12', this.value)"><label for="m2q12b"> B. Extra paint</label></div>
          <div class="option"><input type="radio" name="m2q12" id="m2q12c" value="C" onchange="saveAnswer('m2q12', this.value)"><label for="m2q12c"> C. A protective garment</label></div>
          <div class="option"><input type="radio" name="m2q12" id="m2q12d" value="D" onchange="saveAnswer('m2q12', this.value)"><label for="m2q12d"> D. Proof of reservation</label></div>
        </div>
      </div>
    </div>

    <!-- ç¬¬13-15é¢˜ï¼šRead an email -->
    <div class="section">
      <h2>Read an email (13-15)</h2>
      
      <div class="question-item">
        <div class="email">
          <p><strong>To:</strong> nguyenbooklover@dmail.com</p>
          <p><strong>From:</strong> part.gymworkers@dmail.com</p>
          <p><strong>Subject:</strong> You're Invited â€“ Bring Friends & Family to Our Grand Opening!</p>
          <hr>
          <p>Dear Ms. Nguyen,</p>
          <p>We're excited to invite youâ€”and your friends and familyâ€”to the grand opening of our new branch at 25 Orchid Street, happening next Monday. This event is a great opportunity to explore our state-of-the-art facility, featuring top-tier equipment, energizing group classes, and expert personal training.</p>
          <p>This celebration, exclusively for our valued members and their guests, will include guided tours, live fitness demonstrations, and complimentary refreshments. It's the perfect chance to experience our community-focused approach to wellness and introduce others to a space designed for all fitness levels.</p>
          <p>Bring your friends and family! We're offering a special one-day-only discount on memberships for all attendees.</p>
          <p>For questions or to RSVP, contact our customer service team at 555-1234.</p>
          <p>Warm regards,<br>John Parker</p>
        </div>
        
        <div class="question-number">13. What is the main purpose of the email?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q13" id="m2q13a" value="A" onchange="saveAnswer('m2q13', this.value)"><label for="m2q13a"> A. To attract customers to a new fitness center</label></div>
          <div class="option"><input type="radio" name="m2q13" id="m2q13b" value="B" onchange="saveAnswer('m2q13', this.value)"><label for="m2q13b"> B. To provide Ms. Nguyen with an opportunity to provide expert personal training</label></div>
          <div class="option"><input type="radio" name="m2q13" id="m2q13c" value="C" onchange="saveAnswer('m2q13', this.value)"><label for="m2q13c"> C. To celebrate Ms. Nguyen's achievements in wellness</label></div>
          <div class="option"><input type="radio" name="m2q13" id="m2q13d" value="D" onchange="saveAnswer('m2q13', this.value)"><label for="m2q13d"> D. To announce a discount available to fitness-center members</label></div>
        </div>
        
        <div class="question-number">14. What can be inferred about Ms. Nguyen's relationship with the fitness center?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q14" id="m2q14a" value="A" onchange="saveAnswer('m2q14', this.value)"><label for="m2q14a"> A. She helps the fitness center to organize activities.</label></div>
          <div class="option"><input type="radio" name="m2q14" id="m2q14b" value="B" onchange="saveAnswer('m2q14', this.value)"><label for="m2q14b"> B. She has already explored the new facility.</label></div>
          <div class="option"><input type="radio" name="m2q14" id="m2q14c" value="C" onchange="saveAnswer('m2q14', this.value)"><label for="m2q14c"> C. She is a member at one of the fitness center's other locations.</label></div>
          <div class="option"><input type="radio" name="m2q14" id="m2q14d" value="D" onchange="saveAnswer('m2q14', this.value)"><label for="m2q14d"> D. She is new to using fitness centers and exercise equipment.</label></div>
        </div>
        
        <div class="question-number">15. The new fitness center is intended for use by which of the following groups of people?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q15" id="m2q15a" value="A" onchange="saveAnswer('m2q15', this.value)"><label for="m2q15a"> A. Expert personal trainers</label></div>
          <div class="option"><input type="radio" name="m2q15" id="m2q15b" value="B" onchange="saveAnswer('m2q15', this.value)"><label for="m2q15b"> B. Top-tier athletes</label></div>
          <div class="option"><input type="radio" name="m2q15" id="m2q15c" value="C" onchange="saveAnswer('m2q15', this.value)"><label for="m2q15c"> C. Existing fitness-center members</label></div>
          <div class="option"><input type="radio" name="m2q15" id="m2q15d" value="D" onchange="saveAnswer('m2q15', this.value)"><label for="m2q15d"> D. Community members of all fitness levels</label></div>
        </div>
      </div>
    </div>

    <!-- ç¬¬16-20é¢˜ï¼šAcademic Passage -->
    <div class="section">
      <h2>Read an Academic Passage (16-20)</h2>
      
      <div class="question-item">
        <div class="passage">
          <h3>The Paradox of Choice</h3>
          <p>The paradox of choice, a concept popularized by psychologist Barry Schwartz, suggests that more options can lead to less satisfaction. While the freedom to choose is fundamental to consumer culture, an overabundance of choicesâ€”from groceries to electronicsâ€”can overwhelm individuals, causing anxiety and decision fatigue. This paradox implies that the vast array of possibilities available today might actually diminish consumer contentment, as the fear of making the wrong choice looms large.</p>
          <p>Research supports this notion. In an experiment, psychologist Sheena lyengar found that shoppers were more likely to purchase jam when offered 6 varieties instead of 24. The limited selection eased the decision process, reducing the pressure to find the 'perfect' option and making the experience more enjoyable. This phenomenon reveals that fewer choices can sometimes make consumers happier, which is a valuable insight for marketers and retailers aiming to boost satisfaction by curating their offerings.</p>
          <p>The paradox also has broader implications. In individualistic cultures, where personal choice is highly valued, the burden of decision-making can be significant. Conversely, collectivist cultures, which often provide fewer choices, report higher levels of contentment. This dynamic suggests that understanding cultural differences in consumer psychology can help businesses optimize their product strategies and enhance overall well-being.</p>
        </div>
        
        <div class="question-number">16. Which of the following best states a main idea of the passage?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q16" id="m2q16a" value="A" onchange="saveAnswer('m2q16', this.value)"><label for="m2q16a"> A. Effective marketing strategies focus on increasing product options.</label></div>
          <div class="option"><input type="radio" name="m2q16" id="m2q16b" value="B" onchange="saveAnswer('m2q16', this.value)"><label for="m2q16b"> B. Modern consumer culture is driven by a demand for fewer products.</label></div>
          <div class="option"><input type="radio" name="m2q16" id="m2q16c" value="C" onchange="saveAnswer('m2q16', this.value)"><label for="m2q16c"> C. Individualism enhances consumer contentment.</label></div>
          <div class="option"><input type="radio" name="m2q16" id="m2q16d" value="D" onchange="saveAnswer('m2q16', this.value)"><label for="m2q16d"> D. Limiting consumer choices can lead to higher satisfaction.</label></div>
        </div>
        
        <div class="question-number">17. What is one effect of decision fatigue as mentioned in the passage?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q17" id="m2q17a" value="A" onchange="saveAnswer('m2q17', this.value)"><label for="m2q17a"> A. Desire to make the same choices as other consumers</label></div>
          <div class="option"><input type="radio" name="m2q17" id="m2q17b" value="B" onchange="saveAnswer('m2q17', this.value)"><label for="m2q17b"> B. Anxiety about making the wrong choice</label></div>
          <div class="option"><input type="radio" name="m2q17" id="m2q17c" value="C" onchange="saveAnswer('m2q17', this.value)"><label for="m2q17c"> C. Preference for consumer cultures</label></div>
          <div class="option"><input type="radio" name="m2q17" id="m2q17d" value="D" onchange="saveAnswer('m2q17', this.value)"><label for="m2q17d"> D. Enhanced freedom to choose</label></div>
        </div>
        
        <div class="question-number">18. Why does the author mention Sheena lyengar's experiment?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q18" id="m2q18a" value="A" onchange="saveAnswer('m2q18', this.value)"><label for="m2q18a"> A. To highlight the effectiveness of marketing strategies</label></div>
          <div class="option"><input type="radio" name="m2q18" id="m2q18b" value="B" onchange="saveAnswer('m2q18', this.value)"><label for="m2q18b"> B. To explain the methodology used in consumer psychology</label></div>
          <div class="option"><input type="radio" name="m2q18" id="m2q18c" value="C" onchange="saveAnswer('m2q18', this.value)"><label for="m2q18c"> C. To provide evidence supporting the paradox of choice</label></div>
          <div class="option"><input type="radio" name="m2q18" id="m2q18d" value="D" onchange="saveAnswer('m2q18', this.value)"><label for="m2q18d"> D. To criticize the abundance of products in modern markets</label></div>
        </div>
        
        <div class="question-number">19. The word "curating" in the passage is closest in meaning to</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q19" id="m2q19a" value="A" onchange="saveAnswer('m2q19', this.value)"><label for="m2q19a"> A. eliminating</label></div>
          <div class="option"><input type="radio" name="m2q19" id="m2q19b" value="B" onchange="saveAnswer('m2q19', this.value)"><label for="m2q19b"> B. organizing</label></div>
          <div class="option"><input type="radio" name="m2q19" id="m2q19c" value="C" onchange="saveAnswer('m2q19', this.value)"><label for="m2q19c"> C. increasing</label></div>
          <div class="option"><input type="radio" name="m2q19" id="m2q19d" value="D" onchange="saveAnswer('m2q19', this.value)"><label for="m2q19d"> D. changing</label></div>
        </div>
        
        <div class="question-number">20. What can be inferred about consumers in collectivist cultures?</div>
        <div class="options">
          <div class="option"><input type="radio" name="m2q20" id="m2q20a" value="A" onchange="saveAnswer('m2q20', this.value)"><label for="m2q20a"> A. They tend to report lower levels of satisfaction.</label></div>
          <div class="option"><input type="radio" name="m2q20" id="m2q20b" value="B" onchange="saveAnswer('m2q20', this.value)"><label for="m2q20b"> B. They are more affected by the paradox of choice.</label></div>
          <div class="option"><input type="radio" name="m2q20" id="m2q20c" value="C" onchange="saveAnswer('m2q20', this.value)"><label for="m2q20c"> C. They generally have fewer choices available.</label></div>
          <div class="option"><input type="radio" name="m2q20" id="m2q20d" value="D" onchange="saveAnswer('m2q20', this.value)"><label for="m2q20d"> D. They prefer individual decision-making.</label></div>
        </div>
      </div>
    </div>

    <div class="nav-buttons">
      <div></div>
      <button class="nav-btn" onclick="showSpeaking()">å®Œæˆé˜…è¯»ï¼Œè¿›å…¥å£è¯­éƒ¨åˆ† â†’</button>
    </div>
  </div>

  <!-- ========== å£è¯­éƒ¨åˆ† ========== -->
  <div id="speakingPage">
    <!-- è€ƒè¯•è§„åˆ™æŠ˜å é¢æ¿ -->
    <div class="rules-container">
      <div class="rules-header" onclick="toggleRules()">
        <span>ğŸ“‹ ç‚¹å‡»æŸ¥çœ‹è€ƒè¯•è§„åˆ™å’Œè¯´æ˜</span>
        <span class="toggle-icon" id="toggleIcon">â–¼</span>
      </div>
      <div class="rules-content" id="rulesContent">
        <div class="close-rules">
          <button onclick="toggleRules()">âœ• å…³é—­</button>
        </div>
        
        <h3>TOEFL Speaking Online Exam System</h3>
        <p>åœ¨çº¿æ‰˜ç¦å£è¯­æ¨¡è€ƒç³»ç»Ÿï¼Œç”¨äºæ•™å¸ˆç»„ç»‡é™æ—¶å£è¯­è€ƒè¯•å¹¶è‡ªåŠ¨æ”¶é›†å­¦ç”Ÿå½•éŸ³ã€‚</p>
        
        <hr>
        
        <h4>ğŸ‘©â€ğŸ« æ•™å¸ˆä¿¡æ¯</h4>
        <ul>
          <li><strong>æ•™å¸ˆé‚®ç®±ï¼š</strong>ulaan0827@gmail.com</li>
          <li><strong>æ¥æ”¶é‚®ç®±ï¼š</strong>ulaan0827@gmail.com</li>
        </ul>
        
        <h4>â° è€ƒè¯•è§„åˆ™</h4>
        <ul>
          <li><strong>è€ƒè¯•æ—¶é•¿ï¼š</strong>8â€“10 åˆ†é’Ÿï¼ˆå¯è°ƒæ•´ï¼‰</li>
          <li><strong>å±å¹•åˆ‡æ¢è§„åˆ™ï¼š</strong>
            <ul>
              <li>ç¬¬ 1 æ¬¡ï¼šè­¦å‘Š</li>
              <li>ç¬¬ 2 æ¬¡ï¼šè‡ªåŠ¨äº¤å·</li>
            </ul>
          </li>
        </ul>
        
        <h4>ğŸ§ è€ƒè¯•ç»“æ„ï¼ˆæ–°æ‰˜ç¦å£è¯­é¢˜å‹ï¼‰</h4>
        <p>æœ¬è€ƒè¯•é‡‡ç”¨æ–°æ‰˜ç¦å£è¯­é¢˜å‹ï¼Œå…±åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
        
        <h5>1. å¬è¯»æ¨¡ä»¿</h5>
        <ul>
          <li>å­¦ç”Ÿå¬ä¸€æ®µçŸ­å¥æˆ–çŸ­æ–‡</li>
          <li>éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾</li>
          <li>å­¦ç”Ÿé‡å¤æ‰€å¬åˆ°çš„å†…å®¹</li>
          <li>å›ç­”å°†è¢«å³æ—¶å½•éŸ³</li>
        </ul>
        
        <h5>2. é¢è¯•é—®ç­”</h5>
        <ul>
          <li>å­¦ç”Ÿå›ç­”å¼€æ”¾å¼é¢è¯•é—®é¢˜</li>
          <li>é—®é¢˜æ¶‰åŠï¼šä¸ªäººç»å†ã€è§‚ç‚¹è¡¨è¾¾ã€ç®€å•è®ºè¿°</li>
          <li>é™æ—¶ä½œç­”</li>
          <li>æ‰€æœ‰å›ç­”è‡ªåŠ¨å½•éŸ³</li>
        </ul>
        
        <h4>ğŸ‘¨â€ğŸ“ å­¦ç”Ÿé¡»çŸ¥</h4>
        <ol>
          <li>ä½¿ç”¨ <strong>Google Chrome æµè§ˆå™¨</strong></li>
          <li>è€ƒå‰æ£€æŸ¥éº¦å…‹é£æƒé™</li>
          <li>è¯·å‹¿åˆ·æ–°é¡µé¢æˆ–åˆ‡æ¢æ ‡ç­¾</li>
        </ol>
        <p>âš ï¸ å±å¹•åˆ‡æ¢å°†è§¦å‘è­¦å‘Šæˆ–è‡ªåŠ¨äº¤å·ã€‚</p>
      </div>
    </div>

    <h1>TOEFL Speaking Test</h1>

    <div class="section">
      <h2>Part 1: Listen & Repeat</h2>
      <p>Listen to the sentence and repeat it.</p>

      <audio controls>
        <source src="audio/part1_sentence1.mp3.mp3" type="audio/mpeg">
      </audio>
      <button class="record-btn" onclick="startRecording(event, 'speaking1')">ğŸ¤ å¼€å§‹å½•éŸ³</button>

      <audio controls>
        <source src="audio/part1_sentence2.mp3.mp3" type="audio/mpeg">
      </audio>
      <button class="record-btn" onclick="startRecording(event, 'speaking2')">ğŸ¤ å¼€å§‹å½•éŸ³</button>

      <audio controls>
        <source src="audio/part1_sentence3.mp3.mp3" type="audio/mpeg">
      </audio>
      <button class="record-btn" onclick="startRecording(event, 'speaking3')">ğŸ¤ å¼€å§‹å½•éŸ³</button>

      <audio controls>
        <source src="audio/part1_sentence4.mp3.mp3" type="audio/mpeg">
      </audio>
      <button class="record-btn" onclick="startRecording(event, 'speaking4')">ğŸ¤ å¼€å§‹å½•éŸ³</button>
    </div>

    <div class="section">
      <h2>Part 2: Interview Question</h2>
      <p>Describe a teacher who has influenced you. â€” Watch student responses:</p>

      <div class="video-grid">
        <div class="video-item">
          <video width="100%" controls>
            <source src="q1-interview.mp4" type="video/mp4">
          </video>
          <p style="font-weight: bold; margin-top: 10px;">ğŸ“Œ Question 1</p>
        </div>
        <div class="video-item">
          <video width="100%" controls>
            <source src="q2-interview.mp4" type="video/mp4">
          </video>
          <p style="font-weight: bold; margin-top: 10px;">ğŸ“Œ Question 2</p>
        </div>
        <div class="video-item">
          <video width="100%" controls>
            <source src="q3-interview.mp4" type="video/mp4">
          </video>
          <p style="font-weight: bold; margin-top: 10px;">ğŸ“Œ Question 3</p>
        </div>
        <div class="video-item">
          <video width="100%" controls>
            <source src="q4-interview.mp4" type="video/mp4">
          </video>
          <p style="font-weight: bold; margin-top: 10px;">ğŸ“Œ Question 4</p>
        </div>
      </div>

      <button class="record-btn" onclick="startRecording(event, 'speaking_interview')" style="margin-top: 20px;">ğŸ¤ å¼€å§‹å½•éŸ³å›ç­”</button>
    </div>

    <div class="nav-buttons">
      <div></div>
      <button class="nav-btn" onclick="showWritingIntro()">å®Œæˆå£è¯­ï¼Œè¿›å…¥å†™ä½œéƒ¨åˆ† â†’</button>
    </div>
  </div>

  <!-- ========== å†™ä½œéƒ¨åˆ† ========== -->
  <!-- å†™ä½œä»‹ç» -->
  <div id="writingIntroPage">
    <div class="exam-overview">
      <h2>âœï¸ å†™ä½œéƒ¨åˆ†</h2>
      
      <div class="task-description">
        <p>åœ¨å†™ä½œéƒ¨åˆ†ï¼Œä½ éœ€è¦å›ç­”12é“é¢˜ï¼Œä»¥å±•ç¤ºä½ çš„è‹±è¯­å†™ä½œèƒ½åŠ›ã€‚å…±æœ‰ä¸‰ç§ä»»åŠ¡ç±»å‹ï¼š</p>
      </div>
      
      <table class="task-table">
        <tr>
          <th>ä»»åŠ¡ç±»å‹</th>
          <th>æè¿°</th>
        </tr>
        <tr>
          <td><strong>Build a Sentence</strong></td>
          <td>Create a grammatical sentence.</td>
        </tr>
        <tr>
          <td><strong>Write an Email</strong></td>
          <td>Write an email using information provided.</td>
        </tr>
        <tr>
          <td><strong>Write for an Academic Discussion</strong></td>
          <td>Participate in an online discussion.</td>
        </tr>
      </table>
      
      <div style="text-align: center; margin: 30px 0;">
        <button class="nav-btn" onclick="showWriting()">å¼€å§‹å†™ä½œ â†’</button>
      </div>
    </div>
  </div>

  <!-- å†™ä½œé¢˜ç›®é¡µé¢ -->
  <div id="writingPage">
    <h1>âœï¸ å†™ä½œéƒ¨åˆ†</h1>
    
    <!-- Build a Sentence 1-10é¢˜ -->
    <div class="section">
      <h2>Build a Sentence (1-10)</h2>
      <div class="task-description">Create a grammatical sentence using the given words.</div>
      
      <div class="question-item">
        <div class="question-number">1. The tour guides / who showed us around / the old city / were fantastic.</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing1', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">2. Do you know / if she / will be moving / to a different department?</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing2', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">3. Can you tell me / whether the cabins / will be available?</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing3', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">4. What time / does it start?</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing4', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">5. Do you know / how much / the tickets will cost?</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing5', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">6. I'm planning to go to the beach tomorrow. is / time of year / what / the water / this / like / temperature</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing6', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">7. I need to buy groceries today. list / do / a / have / shopping / you</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing7', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">8. I'll be taking a cooking class this weekend. learn / what / will / you / recipes</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing8', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">9. What did Maria ask you about the book you're reading? She she / wanted / a copy / buy / to know / could / where</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing9', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
      
      <div class="question-item">
        <div class="question-number">10. How did you prepare for the exam? I used by / the professor / that / the study guide / was provided / it</div>
        <textarea placeholder="Type your sentence here..." onchange="saveAnswer('writing10', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
    </div>

    <!-- Write an Email -->
    <div class="section">
      <h2>Write an Email (11)</h2>
      <div class="task-description">You will have 7 minutes to write the email.</div>
      
      <div class="question-item">
        <div class="question-number">11. Poetry Magazine Submission</div>
        <div class="passage">
          <p>A new poetry magazine has asked its readers for submissions, and you decided to submit two of your poems. However, you had a problem using the online submission form, and you are not certain that your submissions were received.</p>
          <p>Write an email to the editor of the magazine. In your email, do the following:</p>
          <ul>
            <li>Tell the editor what you like about the new magazine.</li>
            <li>Describe the problem you experienced.</li>
            <li>Ask about the status of your submissions.</li>
          </ul>
        </div>
        <p><strong>To:</strong> editor@sunshinepoetrymagazine.com</p>
        <p><strong>Subject:</strong> Problem using submission form</p>
        <textarea placeholder="Write your email here..." style="min-height: 200px;" onchange="saveAnswer('writing11', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
    </div>

    <!-- Write for an Academic Discussion -->
    <div class="section">
      <h2>Write for an Academic Discussion (12)</h2>
      <div class="task-description">You will have 10 minutes to write. An effective response will contain at least 100 words.</div>
      
      <div class="question-item">
        <div class="question-number">12. Volunteerism Discussion</div>
        <div class="passage">
          <p><strong>Professor:</strong> Volunteerism refers to the act of offering your time and service without financial compensation to benefit a community, organization, or cause. While many people volunteer mainly to help others, some institutions have mandatory volunteer programs. High schools are one example, where students may be required to complete a certain number of volunteer hours to graduate. What do you think? Should high school students be required to do volunteer work? Why or why not?</p>
          
          <p><strong>Student 1 (Paul):</strong> Yes, I think high schools should require volunteer hours because it helps students build a sense of civic responsibility.</p>
          
          <p><strong>Student 2 (Anna):</strong> I don't think volunteer hours should be required because many students already have limited free time.</p>
        </div>
        <textarea placeholder="Write your response here..." style="min-height: 200px;" onchange="saveAnswer('writing12', this.value)"></textarea>
        <div class="word-count">0 words</div>
      </div>
    </div>

    <div style="text-align: center;">
      <button class="submit-btn" onclick="generateReport()">ğŸ“„ å®Œæˆè€ƒè¯•ï¼Œç”ŸæˆæŠ¥å‘Š</button>
    </div>
  </div>

  <div class="footer">
    <p>
      <a href="#" onclick="toggleRules(); return false;">ğŸ“– æŸ¥çœ‹å®Œæ•´çš„è€ƒè¯•è§„åˆ™å’Œè¯´æ˜</a>
      <span style="margin: 0 15px; color: #ccc;">|</span>
      <a href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'}); return false;">â¬† è¿”å›é¡¶éƒ¨</a>
    </p>
  </div>

  <script>
    // ========== è€ƒè¯•çŠ¶æ€ç®¡ç† ==========
    let examState = {
      status: 'waiting',
      switchCount: 0,
      totalSeconds: 7200, // 2å°æ—¶
      timerInterval: null,
      answers: JSON.parse(localStorage.getItem('toefl_answers')) || {},
      recordings: []
    };

    // ========== ç­”æ¡ˆä¿å­˜ ==========
    function saveAnswer(questionId, value) {
      examState.answers[questionId] = value;
      localStorage.setItem('toefl_answers', JSON.stringify(examState.answers));
    }

    // ========== åŠ è½½ä¿å­˜çš„ç­”æ¡ˆ ==========
    function loadSavedAnswers() {
      Object.keys(examState.answers).forEach(key => {
        const elements = document.querySelectorAll(`[name="${key}"], #${key}, [data-question="${key}"] input`);
        elements.forEach(el => {
          if (el.type === 'radio' && el.value === examState.answers[key]) {
            el.checked = true;
          } else if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.value = examState.answers[key];
          }
        });
      });
    }

    // ========== ç”ŸæˆæŠ¥å‘Š ==========
    function generateReport() {
      let report = `TOEFL æ¨¡è€ƒæˆç»©æŠ¥å‘Š\n`;
      report += `ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString()}\n`;
      report += `=${'='.repeat(50)}\n\n`;
      
      report += `é˜…è¯»éƒ¨åˆ†ç­”æ¡ˆï¼š\n`;
      Object.keys(examState.answers).forEach(key => {
        if (key.startsWith('reading') || key.startsWith('q') || key.startsWith('m2q')) {
          report += `${key}: ${examState.answers[key]}\n`;
        }
      });
      
      report += `\nå†™ä½œéƒ¨åˆ†ç­”æ¡ˆï¼š\n`;
      Object.keys(examState.answers).forEach(key => {
        if (key.startsWith('writing')) {
          report += `${key}: ${examState.answers[key]}\n`;
        }
      });
      
      report += `\nå£è¯­å½•éŸ³ï¼š\n`;
      examState.recordings.forEach((rec, index) => {
        report += `å½•éŸ³ ${index + 1}: ${rec.url}\n`;
      });
      
      const blob = new Blob([report], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `TOEFL_Report_${new Date().toISOString().slice(0,10)}.txt`;
      a.click();
      
      alert('æŠ¥å‘Šå·²ç”Ÿæˆï¼è¯·æŸ¥æ”¶ä¸‹è½½çš„æ–‡ä»¶ã€‚');
    }

    // ========== é¡µé¢å¯¼èˆª ==========
    function startExam() {
      hideAllPages();
      document.getElementById('readingIntroPage').style.display = 'block';
      examState.status = 'active';
      updateStatusBadge('reading', 'ğŸ“– é˜…è¯»éƒ¨åˆ†');
      startTotalTimer();
      loadSavedAnswers();
    }

    function showModule1Intro() {
      hideAllPages();
      document.getElementById('module1Intro').style.display = 'block';
    }

    function showModule1() {
      hideAllPages();
      document.getElementById('module1Page').style.display = 'block';
    }

    function showModule2Intro() {
      hideAllPages();
      document.getElementById('module2Intro').style.display = 'block';
    }

    function showModule2() {
      hideAllPages();
      document.getElementById('module2Page').style.display = 'block';
    }

    function showSpeaking() {
      hideAllPages();
      document.getElementById('speakingPage').style.display = 'block';
      updateStatusBadge('speaking', 'ğŸ¤ å£è¯­éƒ¨åˆ†');
    }

    function showWritingIntro() {
      hideAllPages();
      document.getElementById('writingIntroPage').style.display = 'block';
      updateStatusBadge('writing', 'âœï¸ å†™ä½œéƒ¨åˆ†');
    }

    function showWriting() {
      hideAllPages();
      document.getElementById('writingPage').style.display = 'block';
    }

    function hideAllPages() {
      const pages = [
        'rulesPage', 'readingIntroPage', 'module1Intro', 'module1Page',
        'module2Intro', 'module2Page', 'speakingPage', 'writingIntroPage',
        'writingPage'
      ];
      pages.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.style.display = 'none';
      });
    }

    // ========== çŠ¶æ€æ›´æ–° ==========
    function updateStatusBadge(type, text) {
      const badge = document.getElementById('statusBadge');
      badge.textContent = text;
      badge.className = `status-badge ${type}`;
    }

    // ========== é˜²åˆ‡å±æ£€æµ‹ ==========
    document.addEventListener('visibilitychange', function() {
      if (document.hidden && examState.status === 'active') {
        handleScreenSwitch();
      }
    });

    window.addEventListener('blur', function() {
      if (examState.status === 'active') {
        handleScreenSwitch();
      }
    });

    function handleScreenSwitch() {
      if (examState.status !== 'active') return;
      
      examState.switchCount++;
      
      if (examState.switchCount === 1) {
        examState.status = 'warning';
        updateStatusBadge('warning', 'âš ï¸ è­¦å‘ŠçŠ¶æ€');
        showWarningModal('first');
      } else if (examState.switchCount >= 2) {
        terminateExam('å±å¹•åˆ‡æ¢è¶…è¿‡é™åˆ¶ï¼Œè€ƒè¯•å·²è‡ªåŠ¨ç»“æŸ');
      }
    }

    // ========== è®¡æ—¶å™¨ ==========
    function startTotalTimer() {
      updateTotalTimerDisplay();
      
      examState.timerInterval = setInterval(() => {
        if (examState.status === 'terminated') {
          clearInterval(examState.timerInterval);
          return;
        }
        
        examState.totalSeconds--;
        updateTotalTimerDisplay();
        
        if (examState.totalSeconds <= 600) {
          document.getElementById('timer').classList.add('warning');
        }
        
        if (examState.totalSeconds <= 0) {
          clearInterval(examState.timerInterval);
          terminateExam('è€ƒè¯•æ—¶é—´åˆ°ï¼Œè‡ªåŠ¨äº¤å·');
        }
      }, 1000);
    }

    function updateTotalTimerDisplay() {
      const hours = Math.floor(examState.totalSeconds / 3600);
      const minutes = Math.floor((examState.totalSeconds % 3600) / 60);
      const seconds = examState.totalSeconds % 60;
      document.getElementById('timer').textContent = 
        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    // ========== è­¦å‘Šå¼¹çª— ==========
    function showWarningModal(type) {
      const modal = document.getElementById('warningModal');
      const content = document.getElementById('warningContent');
      const title = document.getElementById('warningTitle');
      const message = document.getElementById('warningMessage');
      
      if (type === 'first') {
        title.textContent = 'âš ï¸ ç¬¬ä¸€æ¬¡è­¦å‘Š';
        message.textContent = 'æ‚¨å·²åˆ‡æ¢å±å¹•ã€‚è¿™æ˜¯ç¬¬ä¸€æ¬¡è­¦å‘Šï¼Œå†æ¬¡åˆ‡æ¢å°†è‡ªåŠ¨äº¤å·ã€‚';
        content.className = 'warning-content warning';
      }
      
      modal.classList.remove('hidden');
    }

    function closeWarningModal() {
      document.getElementById('warningModal').classList.add('hidden');
    }

    // ========== ç»ˆæ­¢è€ƒè¯• ==========
    function terminateExam(reason) {
      if (examState.status === 'terminated') return;
      
      examState.status = 'terminated';
      
      if (examState.timerInterval) {
        clearInterval(examState.timerInterval);
        examState.timerInterval = null;
      }
      
      updateStatusBadge('terminated', 'ğŸ”´ è€ƒè¯•å·²ç»ˆæ­¢');
      
      const modal = document.getElementById('warningModal');
      const content = document.getElementById('warningContent');
      const title = document.getElementById('warningTitle');
      const message = document.getElementById('warningMessage');
      
      title.textContent = 'ğŸ”´ è€ƒè¯•å·²ç»ˆæ­¢';
      message.textContent = reason || 'è€ƒè¯•å·²è‡ªåŠ¨ç»“æŸ';
      content.className = 'warning-content terminated';
      modal.classList.remove('hidden');
      
      document.querySelectorAll('button').forEach(btn => {
        if (!btn.classList.contains('start-exam-btn')) {
          btn.disabled = true;
        }
      });
    }

    // ========== å½•éŸ³åŠŸèƒ½ ==========
    let mediaRecorder;
    let audioChunks = [];
    let recordingStream = null;
    let currentQuestion = null;

    async function startRecording(event, questionId) {
      if (!event) event = window.event;
      if (examState.status !== 'active' && examState.status !== 'warning') {
        alert('è€ƒè¯•æœªå¼€å§‹æˆ–å·²ç»“æŸ');
        return;
      }
      
      currentQuestion = questionId;
      
      try {
        if (!navigator.mediaDevices || !window.MediaRecorder) {
          alert('âŒ æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒå½•éŸ³åŠŸèƒ½ã€‚');
          return;
        }

        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        
        recordingStream = stream;
        mediaRecorder = new MediaRecorder(stream);
        audioChunks = [];

        mediaRecorder.ondataavailable = (event) => {
          if (event.data.size > 0) {
            audioChunks.push(event.data);
          }
        };

        mediaRecorder.onstop = () => {
          const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
          const audioUrl = URL.createObjectURL(audioBlob);
          
          examState.recordings.push({
            question: questionId,
            url: audioUrl,
            timestamp: new Date().toISOString()
          });
          
          const audioPlayer = document.createElement('audio');
          audioPlayer.controls = true;
          audioPlayer.src = audioUrl;
          audioPlayer.style.width = '100%';
          audioPlayer.style.marginTop = '15px';
          
          const activeButton = document.activeElement;
          if (activeButton && activeButton.parentNode) {
            activeButton.parentNode.insertBefore(audioPlayer, activeButton.nextSibling);
          }
          
          if (recordingStream) {
            recordingStream.getTracks().forEach(track => track.stop());
            recordingStream = null;
          }
          audioChunks = [];
        };

        mediaRecorder.start();
        
        const currentBtn = event.target;
        currentBtn.textContent = 'ğŸ”´ å½•éŸ³ä¸­...';
        currentBtn.classList.add('recording');
        currentBtn.disabled = true;
        
        const stopBtn = document.createElement('button');
        stopBtn.textContent = 'â¹ï¸ åœæ­¢å½•éŸ³';
        stopBtn.style.marginLeft = '10px';
        stopBtn.style.background = '#666';
        stopBtn.style.color = 'white';
        stopBtn.style.border = 'none';
        stopBtn.style.padding = '10px 20px';
        stopBtn.style.borderRadius = '8px';
        stopBtn.style.cursor = 'pointer';
        stopBtn.onclick = stopRecording;
        currentBtn.parentNode.insertBefore(stopBtn, currentBtn.nextSibling);
        
      } catch (err) {
        alert('å½•éŸ³å¤±è´¥: ' + err.message);
      }
    }

    function stopRecording() {
      if (mediaRecorder && mediaRecorder.state !== 'inactive') {
        mediaRecorder.stop();
        
        const recordBtns = document.querySelectorAll('.record-btn');
        recordBtns.forEach(btn => {
          btn.textContent = 'ğŸ¤ å¼€å§‹å½•éŸ³';
          btn.classList.remove('recording');
          btn.disabled = false;
        });
        
        const stopBtns = document.querySelectorAll('button[onclick="stopRecording()"]');
        stopBtns.forEach(btn => btn.remove());
      }
    }

    // ========== æŠ˜å é¢æ¿åˆ‡æ¢å‡½æ•° ==========
    function toggleRules() {
      const content = document.getElementById('rulesContent');
      const icon = document.getElementById('toggleIcon');
      
      if (content.classList.contains('show')) {
        content.classList.remove('show');
        icon.innerHTML = 'â–¼';
        window.scrollTo({top: 0, behavior: 'smooth'});
      } else {
        content.classList.add('show');
        icon.innerHTML = 'â–²';
        setTimeout(() => {
          document.querySelector('.rules-container').scrollIntoView({behavior: 'smooth'});
        }, 100);
      }
    }

    // ========== åˆå§‹åŒ– ==========
    window.onload = function() {
      updateStatusBadge('waiting', 'ğŸ“‹ é˜…è¯»è§„åˆ™');
      updateTotalTimerDisplay();
      loadSavedAnswers();
    };

    // ========== é¡µé¢å¸è½½å‰æç¤º ==========
    window.addEventListener('beforeunload', function(e) {
      if (examState.status === 'active' || examState.status === 'warning') {
        e.preventDefault();
        e.returnValue = 'è€ƒè¯•æ­£åœ¨è¿›è¡Œä¸­ï¼Œç¡®å®šè¦ç¦»å¼€å—ï¼Ÿ';
      }
    });
  </script>
</body>
</html>
